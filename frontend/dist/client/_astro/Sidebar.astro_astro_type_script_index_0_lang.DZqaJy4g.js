import{api as d}from"./api.CPfjwQVw.js";document.getElementById("sidebar");const l=document.getElementById("sidebar-toggle"),s=document.getElementById("user-name"),t=document.getElementById("user-initial"),n=document.getElementById("user-sidebar-img"),o=document.getElementById("user-dropdown"),r=document.getElementById("user-menu-btn");function i(){const e=d.getUser();if(e&&s){const a=e.name?e.name.split(" ")[0]:"Usuario";if(s.innerText=a,e.profileImage){const c="http://localhost:3000";n.src=`${c}${e.profileImage}?t=${Date.now()}`,n.classList.remove("hidden"),t&&t.classList.add("hidden")}else n.classList.add("hidden"),t&&(t.innerText=(e.name||"U").charAt(0).toUpperCase(),t.classList.remove("hidden"))}}i();window.addEventListener("user-updated",i);function m(e){e?document.documentElement.classList.add("sidebar-collapsed"):document.documentElement.classList.remove("sidebar-collapsed"),localStorage.setItem("sidebar-collapsed",e.toString())}l?.addEventListener("click",()=>{const e=document.documentElement.classList.contains("sidebar-collapsed");m(!e)});document.getElementById("logout-btn-sidebar")?.addEventListener("click",()=>{d.logout(),window.location.href="/"});r?.addEventListener("click",e=>{e.stopPropagation(),o?.classList.toggle("hidden")});document.addEventListener("click",()=>{o?.classList.add("hidden")});
