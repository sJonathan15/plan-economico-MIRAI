import{a as o}from"./api.DUBSwrnZ.js";import"./hoisted.DbckvgP9.js";const r=document.getElementById("register-form");r?.addEventListener("submit",async s=>{s.preventDefault();const t=r.querySelector('button[type="submit"]'),i=t.innerText;try{t.disabled=!0,t.innerText="Creando cuenta...";const e=new FormData(r),m=e.get("name"),a=e.get("email"),n=e.get("password"),c=e.get("role");await o.register({name:m,email:a,password:n,role:c}),await o.login({email:a,password:n}),window.location.href="/dashboard"}catch(e){alert(e.message||"Error al registrarse"),t.disabled=!1,t.innerText=i}});
